# My Portfolio!

# Introduction

Welcome to my portfolio!

...


~ Robert L. Zelhorst

# Table of Content
- [User Experience](#user-experience)
  * [Site Owner Goal](#site-owner-goal)
  * [User Goals](#user-goals)
  * [User Stories](#user-stories)
  * [User Requirements](#user-requirements)
  * [User Expectations](#user-expectations)
- [Design](#design)
  * [Wireframes](#wireframes)
  * [Design Choices](#design-choices)
    * [The Structure](#the-structure)
    * [Fonts](#fonts)
    * [Colours](#colours)
  * [Database Structure](#database-structure)
- [Features](#features)
  * [Existing Features](#existing-features)
  * [Future Features](#future-features)
- [Technologies](#technologies)
  * [Languages](#languages)
  * [Libraries and Tools](#libraries-and-tools)
- [Testing](#testing)
- [Deployment](#deployment)
  * []
- [Credits](#credits)
  * [Code](#code)
  * [Thanks](#thanks)
  * [Afterword](#afterword)

# User Experience
## Site Owner Goals
* Inform the visitors of the experience and capabilities of the site owner. Ie. Sell oneself/an online resume.
* Sell services, like making a landingpage etc., ~~or give visitors the possibility to buy the site owner a coffee.~~
* Have the users contact the site owner.

---

## User Goals
* A website where you can find what the site owner does.
* A website where I can read about the site owner.
    * About the site owner experience and capabilities.
    * ~~A blog~~
* A website where I can register and login to.
* A website where you can buy services from the site owner.
    * Products
    * ~~Donations~~

---

## User/Siteowner Stories
As a user, I want;
* a website that is easy and intuitively to use.
* to see what the website is about at first glance.
* a website that works on all screen sizes.
* to be able to traverse to relevant social media.
* to read about the site owner.
    * ~~Blog/forum~~
    * Past builds
    * Experiences with;
        * Languages
        * Frameworks
        * etc.
    * Public personal information.
* to contact the site owner.

* to register to the website.
* to login to the website.
* to buy products ~~/donate to~~ from the site owner.
    * View the product details
    * View all the products I want to buy and change quantity if necessary. (cart)
    * View a summary before proceeding to buy any product. (checkout)
    * View a successfull order summary. (checkout success)
* to look back at older orders.

* ~~I want to read the blog.~~
* ~~I want to comment on the blog.~~

As a site ower, I want;
* to see all the relevant information on the site.
* to login as an administrator.
* to change all the relevant information on the site
    * About information, Name/profession etc.
    * Skills, Add/change/delete/hide
    * Services, Add/change/delete/hide
    * Previous projects, Add/change/delete/hide
* to receive messages from users.
* ~~I want to post/update/delete blog posts.~~

[Back to top](#table-of-content)

---

## User Requirements
* Easy navigation.
* Intuitively know what the website is about.
* The ability to register and/or login.
* The ability to purchase services from the site owner and/or donate.
* ~~The ability to read the blog.~~
* ~~The ability to comment/like or dislike on the blog.~~

## User Expectation
* See relevant information about the site owner.
* An overview of experience.
* An overview of past projects.
* Contact the site owner.
* Buy services from site owner.
* Get confirmation on buying a product.
* View past buyorders.
* ~~Comment on blog.~~

[Back to top](#table-of-content)

---

# Design
## Wireframes
I have made wireframes for the sizes Mobile, Tablet and Desktop.
As per Bootstrap order, from small to large. To make the wireframes I have used the program [Balsamig Wireframes](https://balsamiq.com/wireframes/ "Link to Balsamig Wireframes").

#### Mobile Wireframes
* [Mobile Landing Page Wireframe](/readme-images/wireframes/mobile-landing-page.png)
* [Mobile Item Details Wireframe](/readme-images/wireframes/mobile-item-details.png)
* [Mobile Cart Wireframe](/readme-images/wireframes/mobile-cart.png)
* [Mobile Checkout Wireframe](/readme-images/wireframes/mobile-checkout.png)
* [Mobile Items List Wireframe](/readme-images/wireframes/mobile-items-list.png)
* [Mobile Admin Panel Wireframe](/readme-images/wireframes/mobile-admin-panel.png)
* [Mobile Add/Edit Item Wireframe](/readme-images/wireframes/mobile-add-edit-item.png)

#### Tablet Wireframes
* [Tablet Landing Page Wireframe](/readme-images/wireframes/tablet-landing-page.png)
* [Tablet Item Details Wireframe](/readme-images/wireframes/tablet-item-details.png)
* [Tablet Cart Wireframe](/readme-images/wireframes/tablet-cart.png)
* [Tablet Checkout Wireframe](/readme-images/wireframes/tablet-checkout.png)
* [Tablet Items List Wireframe](/readme-images/wireframes/tablet-items-list.png)
* [Tablet Admin Panel Wireframe](/readme-images/wireframes/tablet-admin-panel.png)
* [Tablet Add/Edit Item Wireframe](/readme-images/wireframes/tablet-add-edit-item.png)

#### Desktop Wireframes
* [Desktop Landing Page Wireframe](/readme-images/wireframes/desktop-landing-page.png)
* [Desktop Item Details Wireframe](/readme-images/wireframes/desktop-item-details.png)
* [Desktop Cart Wireframe](/readme-images/wireframes/desktop-cart.png)
* [Desktop Checkout Wireframe](/readme-images/wireframes/desktop-checkout.png)
* [Desktop Items List Wireframe](/readme-images/wireframes/desktop-items-list.png)
* [Desktop Admin Panel Wireframe](/readme-images/wireframes/desktop-admin-panel.png)
* [Desktop Add/Edit Item Wireframe](/readme-images/wireframes/desktop-add-edit-item.png)

#### Other Wireframes

[Back to top](#table-of-content)

## Design Choices
The goal of this site is to be the site owners online resume. Therefore readability is paramount with not much other distractions.

### The structure
For the structure of the website I will use the framework [Bootstrap 5.1](https://getbootstrap.com/docs/5.1/getting-started/introduction/ "Link to bootstrap 5.1").
This framework allows for a proper responsive website which is build up from a mobile-first perspective.
The grid-system that Bootstrap provides is very usefull to have a well working responsive website.
Furthermore Bootstrap has a wide browser compatibility, is quite easy to use and is very customizable.

### Fonts
I will be using a font from [Google Fonts](https://fonts.google.com/ "Google Fonts"), specifically the [Rubik Font](https://fonts.google.com/specimen/Rubik "Rubik Font").
An easy to read, compact and professional looking font.

### Colours
I have chosen for a colour scheme that not to energetic, to goal of the site is mostly to inform. The colours should reprent the site owners personality of being calm and reserved, therefor a calm and reserved colour scheme.

I will use [Bootswatch Slate](https://bootswatch.com/slate/ "Bootswatch Slate") as a base.

![Colour Palette Scheme](https://github.com/Zelhorst92/MyPortfolio/blob/main/readme-images/newcolourpalette%20.png?raw=true "Colour Palette Scheme")

* #191919, Eerie Black
* #272B30, Gunmetal
* #7A8288, Grayweb
* #C8C8C8, Silver, From the clouds of the landing-page image.
* #E9ECEF, Cultured

Suplemented with black and white where necessary.

[Back to top](#table-of-content)

---

## Database Structure

Below the database schema used in this project.
9 Models + 2 models from allauth with their relations shown.

![Database schema](https://github.com/Zelhorst92/MyPortfolio/blob/main/readme-images/my_portfolio_data_schema.png?raw=true "Database schema")
[Back to top](#table-of-content)

---

# Features
## Existing Features
### Navigation
At the top op the page there is a persistion navigation bar. It is present on all pages and has a scroll spy which will follow the user when the user is scrolling along the home page aswell as view the shopping cart.
On smaller devices the navigation bar will collapse into a hamburger menu which will have a dropdown menu on the right side.

### Home page
As this is an online resume the user will on page load see the site owners name, profesion, relevant social media links, aswell as a beautiful image of a misty mountain. Further down the page the user will see a short description of who the site owner is and another picture of the siteowner. Below this the user can see a quick overview of the skillset the site owner.

Below the skills multiple servcies are being shown which can be bought. The user can view the details of these services. 

Even further down there is a gallery of the previos projects done by the site owner. Its a contineous slideshow.

At the bottom the user can see the contact form to get in touch with the site owner. Their message will be directed to the site owners emailaddress. The contact form functionality can be shut down with the variable CONTACT_FORM_ENABLED.

### Service details
Here the user can find the details about the service the user possibly wants to purchase and can also add them to their shopping cart from here. There is also a quantity selector present so that the user can add multiple of the same service into the shopping cart at the same time.

### Shopping cart
In the shopping cart the user can find a summary of services that the user has put in the cart; the individual price per service, the quantity of each service and the subtotals. Aswell the cart total cost, the discount if this applies, the included VAT and the net total. In here the user can also change the quantity of services in the cart. From here the user can proceed to the checkout.
The discount only applies if more then one different services are being bought. The discount and the VAT values can be set with the COMBINATION_DISCOUNT_PERCENTAGE and VAT_PERCENTAGE respectively.

### Checkout
In the checkout the user can see the exactly the same as in the shopping cart but without the ability to change the quantity. This is so the user can view the order one more time to be sure it is all correct. If so the user can fill in the payment form and their credit card information which will be checked by Stripe. If the user is registered, the user can also opt to save its credentials. Else it will be shown a link to register instead. If all information is filled in correctly, the payment intent will be processed by stripe and if successfull the user will be redirected to the checkout success page and receive a confirmation email.

### Checkout Success
When the user has successfully finished a payment the order form will be shown. Here the user can find the order number and the orderdate aswell their basic information; Their full name, email, phone number and country. Below this, are the services bought, price per service, quantities and totals are shown once again. This for that the user is absolutely sure that it has bought the correct service(s) the user wanted to buy. The user also receives the same order info via the mail.

### Register/Login
The user can opt to register to the site. Here is the allauth package used from Django. This functionality includes a registration, email confirmation, login, logout and forgot password.

### Dashboard
If the user is registered it can find a form there to update its contact information which then can be used at the checkout. It also works vice versa, at the checkout the user can opt to choose to save the date to it dashboard. The user can also find its orderhistory here, with the most recent order on the top.

### Order history
From the dashboard the user can select a past order and view this. It is the same template as the checkout success.

### Super_user & CRUD
The site owner and those who are flagged as a super_user can modify almost all information that is present on the main page. If the user is a super_user, then a link to the admin-panel/Manage Site is present in the navigation. From here the user can add/edit/delete the about information, the skills, the services for sale and previous projects.

### 
...

[Back to top](#table-of-content)

## Future Features
### Gallery links
It would be nice to have a direction button to the previous projects websites and/or github links directly from the gallery, so that the users can have a more detailed look of these websites.

### Coffee
It would be nice to have a cup of coffee as a buyable item aswell. This is not a service and in current form it would apply for the discount. A cup of coffee of 2 euro and a website of 1500 euros would come to a discount of 150,20. That means the current programming would have to be revised as in a discount exempt or an attribute for purely discount of services. Possibly the cup of coffee could be donated via different means, bypassing the discount completely.

### Database; Categories for previous projects
At the moment the previous projects dont have an attribute categories. They could share the same category list as the services have as it is in principle the same.

### CRUD; Add/Edit/Delete Categories
At the moment it is not possible to add, edit or delete categories for services.
This would be the first thing I would add in the future. The principle would be the same as adding/editing or deleting any other models that currently exist.

### Register/Login addition
In the dashboard there is need for a change password option. At the moment users can only change passwords via the Forgot Password functionality.

### A Better Confirmation email
The current confirmation email does what it needs to do, but its structure is very basic. This can be improved upon.

### A way to control the ordering of the items in the database
At the moment it seems that the ordering of items is based on what item is the oldest added or edited. As this has an influence on the homepage ordering of items on screen, this should be brought under control. Overiding the assigned id or introducing a SKU.

[Back to top](#table-of-content)

---

# Technologies
## Languages
*   [HTML](https://en.wikipedia.org/wiki/HTML "Link to the HTML wikipedia page")
*   [CSS](https://en.wikipedia.org/wiki/CSS "Link to the CSS wikipedia page")
*   [JavaScript](https://en.wikipedia.org/wiki/JavaScript "Link to the JavaScript wikipedia page")
*   [Python](https://www.python.org/ "Link to the python webpage")


## Libraries and Tools
### Libraries & Frameworks
*   [Bootstrap](https://getbootstrap.com/ "Link to bootstrap")
*   [Bootswatch](https://bootswatch.com/ "Link to bootswatch")
*   [Fontawsome](https://fontawesome.com/ "Link to fontawesome")
*   [Googlefonts](https://fonts.google.com/ "Link to googlefonts") 
*   [jQuery](https://jquery.com/ "Link to JQuery")
*   [Stripe](http://stripe.com/ "Link to stripe")
*   [Django](https://www.djangoproject.com/ "Link to django")

### Validators
*   [W3C Css-validator](https://jigsaw.w3.org/css-validator/ "Link to the w3 css validator")
*   [W3C Markup-validator](https://validator.w3.org/ "Link to w3c markup validator")
*   [Python Validator](https://infoheap.com/python-lint-online/ "Link to pyhton lint validator")

### Tools
*   [Gitpod](https://www.gitpod.io/ "Link to gitpod")
*   [Github](https://github.com/ "Link to github")
*   [Git](https://git-scm.com/ "Link to git")
*   [Heroku](https://www.heroku.com/ "Link to Heroku")
*   [Jinja](https://jinja.palletsprojects.com/en/3.0.x/ "Link to jinja literature")
*   [Amazon AWS](https://aws.amazon.com "Link to Amazon AWS")
*   [Tinypng](https://tinypng.com/ "Link to tinypng") 
*   [Balsamiq Wireframes](https://balsamiq.com/wireframes/ "Link to balsamiq wireframes")
*   [Db diagram](https://dbdiagram.io/ "Link to db diagram")
*   [Coolors](https://coolors.co/)
*   [Contrast Checker](https://webaim.org/resources/contrastchecker/)
*   [Techsini](http://techsini.com/ "Link to techsini.com")
*   [Favicon.cc](https://www.favicon.cc/ "Link to a favicon creator")
*   [Temp Mail](https://temp-mail.org/ "Link to temp-mail")
*   [Devicon](https://devicon.dev/ "Link to Devicon")
*   [Passwordgenerator](https://passwordsgenerator.net/ "Link to passwordsgenerator")

[Back to top](#table-of-content)

---

# Testing
This is done in a seperate file:

[TESTING.md](https://github.com/Zelhorst92/MyPortfolio/blob/main/TESTING.md "Link to tests and bugs file")

---

# Deployment
## Clone the repository
- Click on the dropdown menu which says **Code** on the Github Repository.
- You will see several options; 
    - **Clone with a link**, 
    - **Open with GitHub Desktop** 
    - **download ZIP**

#### Clone with a link
- When you want to clone; use the **Clone with HTTPS option**, copy the link displayed.
- Open your IDE and go to the terminal.
- Change the working directory to the location where the cloned directory is to go.
- Use the **git clone** command and paste the url copied in the second step.

#### Open with GitHub Desktop
- If you have GitHub Desktop installed, you can click on this and it will import and clone the repository for you, after selecting where it needs to go.

#### Download the ZIP
- You can also download the whole repository in a zip file and use the IDE software you want.

## Run application locally
### Install requirements
The webapplication relies on several modules and libraries to function. You can find these in the requirements.txt. If you are using an IDE which support [pip](https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/) you can use the following command:

  ```
  pip3 install -r requirements.txt
  ```

If you are not using or installing pip, find the requirements.txt and install the required modules via any other means. The application will not work without the required modules.

### Create env file
In your IDE, create a file containing your environmental variables called env.py at root level. This is because env.py contains private information such as your secret key and is therefore not added to the repository from the get go. It needs to contain the following:

```
import os

os.environ["DEBUG"] = "True"
os.environ["SECRET_KEY"] = "SECRET_KEY"
os.environ["DEFAULT_FROM_EMAIL"] = "DEFAULT_FROM_EMAIL"

"""Site own variables"""
os.environ["CONTACT_FORM_ENABLED"] = "True"
os.environ["COMBINATION_DISCOUNT_PERCENTAGE"] = "10"
os.environ["VAT_PERCENTAGE"] = "20"

"""Stripe"""
os.environ["STRIPE_CURRENCY"] = ""
os.environ["STRIPE_PUBLIC_KEY"] = ""
os.environ["STRIPE_SECRET_KEY"] = ""
os.environ["STRIPE_WH_SECRET"] = ""
```

The **SECRET_KEY** you'll have to provide yourself. It can be anything, but the longer the key, the safer it is.

The **CONTACT_FORM_ENABLED** sets the contact form at the bottom to enabled. Leaving it empty makes in non-functional.

The **COMBINATION_DISCOUNT_PERCENTAGE** and **VAT_PERCENTAGE** are variables used in the calculations in the shopping cart and checkout functionalities. Leaving them empty makes them default to 0. See settings.py.

For the **STRIPE** variables you should read the documention of [Stripe](https://stripe.com/docs). It is necessary to set this up to make use of the checkout functionality.

### Setting it up
After you have installed all the requirements and set up all the variables in your env.py and added your env.py to your .gitignore file, you can migrate the database models with the following command:

```
python3 manage.py migrate
```
When this is done, you will have to create a superuser with the command:
```
python3 manage.py createsuperuser
```
When this is done, you can run the app locally with the command:
```
python3 manage.py runserver
```


## Deploy application to Heroku
- Log in or sign-up to [Heroku](https://dashboard.heroku.com/).
- On the mainpage, select 'New' and pick 'create new app'
- Chose app-name and region.
- After creation, select 'Resources', go to 'find more add-ons' and from there find 'Heroku Postgres' and install this.
- After that is done, go back to the overview and select 'settings', go to 'Reveal config vars'. Here you will enter everything from the env.py file with the exception of **DEBUG** that should be empty. the Heroku Postgress url and the AWS variables. It will look like this:

```
DEBUG = ""  #this should be empty!! Unless if you know what you are doing!
USE_SQLITE3 = ""  #Toggle using the Sqlite3 database. Should be empty at first.

SECRET_KEY = "SECRET_KEY"
DEFAULT_FROM_EMAIL = "DEFAULT_FROM_EMAIL"

COMBINATION_DISCOUNT_PERCENTAGE = "10"
CONTACT_FORM_ENABLED = "True"
VAT_PERCENTAGE = "20"

DATABASE_URL = "YOUR RECENTLY INSTALLED POSTGRES URL"
DISABLE_COLLECTSTATIC = 1

EMAIL_HOST_PASS = "EMAIL_HOST_PASS"
EMAIL_HOST_USER = "EMAIL_HOST_USER"

USE_AWS = "True"
AWS_ACCESS_KEY_ID = "AWS_ACCESS_KEY_ID"
AWS_S3_REGION_NAME = "AWS_S3_REGION_NAME"
AWS_SECRET_ACCESS_KEY = "AWS_SECRET_ACCESS_KEY"
AWS_STORAGE_BUCKET_NAME = "AWS_STORAGE_BUCKET_NAME"

STRIPE_CURRENCY = "STRIPE_CURRENCY"
STRIPE_PUBLIC_KEY = "STRIPE_PUBLIC_KEY"
STRIPE_SECRET_KEY = "STRIPE_SECRET_KEY"
STRIPE_WH_SECRET = "STRIPE_WH_SECRET"
```

- To summarize; **DEBUG** and **USE_SQLITE3** should both be empty for production! You could opt at first to not put them in your config vars at all, to prevent confusion. With the USE_SQLITE3 you can toggle between the sqlite3 database or the postgres database. Leave empty to default to postgres. This will allow you to run debug with the postgres database if necessary.
- You will find the DATABASE_URL already in there, this is your Heroku Postgres url. Copy this.
- Go into settings.py and find the following:
```
if 'DEBUG' in os.environ:
    if 'USE_SQLITE3' in os.environ:
        DATABASES = {
            'default': {
                'ENGINE': 'django.db.backends.sqlite3',
                'NAME': BASE_DIR / 'db.sqlite3',
            }
        }
    else:
        DATABASES = {
            'default': dj_database_url.parse(
                os.environ.get('DATABASE_URL'))
        }
else:
    DATABASES = {
        'default': dj_database_url.parse(
            os.environ.get('DATABASE_URL'))
    }
```
Comment it out and replace it with:
```
DATABASES = {
    'default': dj_database_url.parse('Put your heroku DATABASE_URL here'))
}
```
- Now go to your CLI and migrate with the following command:
```
python3 manage.py migrate
```
When this is done, you will have to create a superuser with the command:
```
python3 manage.py createsuperuser
```
- Now run your app locally with:
```
python3 manage.py runserver
```
- Now go to your app, it should be running. Go to localapplink/admin/ and make sure your superuser is verified and primary. Close your app again.

- Change the DATABASE_URL logic back to what it was before. (couple of steps back)

- Go into the settings.py file and find ALLOWED_HOSTS; paste your full heroku app URL in here. It should look like this, but then with your app url:
```
ALLOWED_HOSTS = ['robert-l-zelhorst-portfolio.herokuapp.com', 'localhost']
```
Make sure the DISABLE_COLLECTSTATIC = 1 is in your config vars in heroku. If not you could do it via your CLI with the following command:
```
heroku config:set DISABLE_COLLECTSTATIC=1
```
Go back to your heroku settings and find 'Deploy' and from there select 'Deployment method'.
- Pick GitHub, find your github username, select the appropriate repository and connect. Also enable automatic deployment. This will make sure that anything you push to github will also be pushed to heroku.
- Click 'Deploy branch'. Heroku will now build the app. This might take a while, so time for tea or coffee.

## Setup Email (gmail)
- In this app the piping for a gmail return mailing service is already present. It looks like this:
```
if 'DEBUG' in os.environ:
    EMAIL_BACKEND = 'django.core.mail.backends.console.EmailBackend'
    DEFAULT_FROM_EMAIL = os.environ.get('EMAIL_HOST_USER')
else:
    EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
    EMAIL_PORT = 587
    EMAIL_USE_TLS = True
    EMAIL_HOST = 'smtp.gmail.com'
    EMAIL_HOST_USER = os.environ.get('EMAIL_HOST_USER')
    EMAIL_HOST_PASSWORD = os.environ.get('EMAIL_HOST_PASS')
    DEFAULT_FROM_EMAIL = os.environ.get('EMAIL_HOST_USER')
```
- The EMAIL_HOST and EMAIL_PORT might vary between different providers.
- If you have set up an gmail account, go to security and verify 2 step verification.
- Then below 2 step verification you will find App-passwords, go there and go to 'app select', pick 'email', go to select device, pick 'other' and call it 'django'. You will now get a 4 times 4 password. Copy this.
- Go back to your config vars in heroku and find the EMAIL_HOST_PASS and EMAIL_HOST_EMAIL variables.
- The pass is the password, the host_email your gmail account.
- And that is now ready to go.

[Back to top](#table-of-content)

# Credits

## Aditional Sources

Stamp picture = https://www.pngfind.com/mpng/iohTbwb_mail-stamp-template-postmark-png-image-postage-stamp/
...

## Thanks
...

## Afterword
...

[Back to top](#table-of-content)